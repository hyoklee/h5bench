<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <title>H5Bench Performance Benchmarks</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@1.1.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  </head>
  <body>
    <header>
      <h1>H5Bench Performance Benchmarks</h1>
      <p>Continuous performance monitoring for H5Bench HDF5 benchmarking suite</p>
    </header>

    <main>
      <div id="charts">
        <div class="chart-container">
          <canvas id="chart"></canvas>
        </div>
      </div>
    </main>

    <script>
      // This will be populated by github-action-benchmark
      window.BENCHMARK_DATA = window.BENCHMARK_DATA || [];

      const chartConfig = {
        type: 'line',
        data: {
          datasets: []
        },
        options: {
          responsive: true,
          title: {
            display: true,
            text: 'H5Bench Performance Over Time'
          },
          tooltips: {
            mode: 'index',
            intersect: false
          },
          hover: {
            mode: 'nearest',
            intersect: true
          },
          scales: {
            xAxes: [{
              type: 'time',
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Date'
              }
            }],
            yAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Performance'
              }
            }]
          }
        }
      };

      const ctx = document.getElementById('chart').getContext('2d');
      const chart = new Chart(ctx, chartConfig);

      // Load benchmark data when available
      if (window.BENCHMARK_DATA && window.BENCHMARK_DATA.length > 0) {
        // Process and display the benchmark data
        console.log('Benchmark data loaded:', window.BENCHMARK_DATA.length, 'entries');
      } else {
        console.log('No benchmark data available yet. Run the CI to generate initial data.');
      }
    </script>

    <footer>
      <p>Generated by <a href="https://github.com/benchmark-action/github-action-benchmark">github-action-benchmark</a></p>
    </footer>

    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f6f8fa;
      }
      header {
        text-align: center;
        margin-bottom: 40px;
        padding: 20px;
        background: white;
        border-radius: 6px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      }
      h1 {
        margin: 0;
        color: #24292e;
      }
      .chart-container {
        background: white;
        padding: 20px;
        border-radius: 6px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        margin-bottom: 20px;
      }
      footer {
        text-align: center;
        margin-top: 40px;
        color: #586069;
      }
      footer a {
        color: #0366d6;
        text-decoration: none;
      }
    </style>
  </body>
</html>